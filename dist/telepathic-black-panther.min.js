/*! telepathic-black-panther 27-06-2015 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,d){"use strict";var e=function(a){if("object"!=typeof a.document)throw new Error("Cookies.js requires a `window` with a `document` object");var b=function(a,c,d){return 1===arguments.length?b.get(a):b.set(a,c,d)};return b._document=a.document,b._cacheKeyPrefix="cookey.",b._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),b.defaults={path:"/",secure:!1},b.get=function(a){return b._cachedDocumentCookie!==b._document.cookie&&b._renewCache(),b._cache[b._cacheKeyPrefix+a]},b.set=function(a,c,e){return e=b._getExtendedOptions(e),e.expires=b._getExpiresDate(c===d?-1:e.expires),b._document.cookie=b._generateCookieString(a,c,e),b},b.expire=function(a,c){return b.set(a,d,c)},b._getExtendedOptions=function(a){return{path:a&&a.path||b.defaults.path,domain:a&&a.domain||b.defaults.domain,expires:a&&a.expires||b.defaults.expires,secure:a&&a.secure!==d?a.secure:b.defaults.secure}},b._isValidDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())},b._getExpiresDate=function(a,c){if(c=c||new Date,"number"==typeof a?a=a===1/0?b._maxExpireDate:new Date(c.getTime()+1e3*a):"string"==typeof a&&(a=new Date(a)),a&&!b._isValidDate(a))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return a},b._generateCookieString=function(a,b,c){a=a.replace(/[^#$&+\^`|]/g,encodeURIComponent),a=a.replace(/\(/g,"%28").replace(/\)/g,"%29"),b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),c=c||{};var d=a+"="+b;return d+=c.path?";path="+c.path:"",d+=c.domain?";domain="+c.domain:"",d+=c.expires?";expires="+c.expires.toUTCString():"",d+=c.secure?";secure":""},b._getCacheFromString=function(a){for(var c={},e=a?a.split("; "):[],f=0;f<e.length;f++){var g=b._getKeyValuePairFromCookieString(e[f]);c[b._cacheKeyPrefix+g.key]===d&&(c[b._cacheKeyPrefix+g.key]=g.value)}return c},b._getKeyValuePairFromCookieString=function(a){var b=a.indexOf("=");return b=0>b?a.length:b,{key:decodeURIComponent(a.substr(0,b)),value:decodeURIComponent(a.substr(b+1))}},b._renewCache=function(){b._cache=b._getCacheFromString(b._document.cookie),b._cachedDocumentCookie=b._document.cookie},b._areEnabled=function(){var a="cookies.js",c="1"===b.set(a,1).get(a);return b.expire(a),c},b.enabled=b._areEnabled(),b},f="object"==typeof a.document?e(a):e;"function"==typeof define&&define.amd?define(function(){return f}):"object"==typeof c?("object"==typeof b&&"object"==typeof b.exports&&(c=b.exports=f),c.Cookies=f):a.Cookies=f}("undefined"==typeof window?this:window)},{}],2:[function(a,b,c){!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["exports"],b):b("object"==typeof c?c:a.Minibus={})}(this,function(a){"use strict";var b=function(){this.eventMap={},this.routeMap={},this.busContext={}};a.create=function(){return new b},a.extension=b.prototype;var c=function(a){return"[object Array]"===Object.prototype.toString.call(a)},d=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},e=function(a){this.name="InvalidEventStringError",this.message="Invalid event string given: "+a},f=function(a){this.name="InvalidRouteStringError",this.message="Invalid route string given: "+a},g=function(a){this.name="InvalidEventHandlerError",this.message="Invalid event handler function given: "+a},h=function(a){var b,d,f,g,h,i;for(c(a)||(a=[a]),d=0;d<a.length;d+=1)if("string"!=typeof a[d])throw new e(a[d]);for(b=[],d=1;d<arguments.length;d+=1)b.push(arguments[d]);for(h=[],d=0;d<a.length;d+=1)if(this.eventMap.hasOwnProperty(a[d])){f=this.eventMap[a[d]];for(g in f)f.hasOwnProperty(g)&&h.push(f[g].eventHandler)}for(i=this.busContext,d=0;d<h.length;d+=1)h[d].apply(i,b)};b.prototype.emit=h,b.prototype.trigger=h;var i=function(a,b){var d,f,h,i,j;for(d=c(a),d||(a=[a]),f=0;f<a.length;f+=1)if("string"!=typeof a[f])throw new e(a[f]);if("function"!=typeof b)throw new g(b);for(j=[],f=0;f<a.length;f+=1)h={eventString:a[f],eventHandler:b},i=l.create(),j.push(i),this.eventMap.hasOwnProperty(a[f])||(this.eventMap[a[f]]={}),this.eventMap[a[f]][i]=h,this.routeMap[i]=h;return d?j:j[0]};b.prototype.on=i,b.prototype.listen=i;var j=function(a,b){var c,d,e;if("function"!=typeof b)throw new g(b);return c=this,e=!1,d=this.on(a,function(){e||(e=!0,c.off(d),b.apply(this,arguments))})};b.prototype.once=j;var k=function(a){var b,e,g,h,i,j;if(b="undefined"==typeof a)return this.routeMap={},void(this.eventMap={});c(a)||(a=[a]);var k=[];for(k=k.concat.apply(k,a),a=k,e=0;e<a.length;e+=1)if("string"!=typeof a[e])throw new f(a[e]);for(e=0;e<a.length;e+=1)if(this.routeMap.hasOwnProperty(a[e]))g=this.routeMap[a[e]],delete this.routeMap[a[e]],delete this.eventMap[g.eventString][a[e]],d(this.eventMap[g.eventString])&&delete this.eventMap[g.eventString];else if(h=a[e],this.eventMap.hasOwnProperty(h)){i=this.eventMap[h];for(j in i)i.hasOwnProperty(j)&&delete this.routeMap[j];delete this.eventMap[h]}};b.prototype.off=k,b.prototype.removeListener=k;var l=function(){var a={};return a.create=function(){return Math.random().toString().substring(2)},a}();a.version="3.1.0"})},{}],3:[function(a,b){b.exports={paragraphPageWordCount:function(a,b){a="number"!=typeof a?2:a,b="number"!=typeof b?3:b;var c=0;return $ki("p").each(function(d){var e=d.innerText||d.textContent||"",f=e.split(/\s+/),g=f.length;for(var h in f)f[h].length<b&&(g-=1);g>a&&(c+=g)}),c},pageWordCount:function(a){a="object"!=typeof a?[".footer",".navbar",".nav",".header",".ad",".advertisement"]:a;var b=$ki("body")[0].innerText||$ki("body")[0].textContent||"",c=b.split(/\s+/).length;for(var d in a)if(s=a[d],void 0!==$ki(s)[0]){var e=$ki(s)[0].innerText||$ki(s)[0].textContent||"";c-=e.split(/\s+/).length}return c},readTime:function(a,b){b="number"!=typeof b?250:b,b=1>b?1:b;var c=0,d=0;if(void 0!==a){switch(typeof a){case"string":d=a.split(/\s+/).length;break;case"number":d=a}c=d/b}return c},currentScrollPosition:function(a){var b=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,c=b+window.innerHeight;return a!==!0?c:(c/this.pageHeight()).toFixed(2)},windowTop:function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},pageHeight:function(){var a=document.body,b=document.documentElement;return Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight)}}},{}],4:[function(a,b){b.exports={autoDetectEvents:function(){var a=this,b="object"==typeof this.opts.autoDetect?b:"all";if(a.log("Tbp.autoDetectEvents() Analyzing the page to watch for the following methods:",b),(b.indexOf("linkOut")>=0||"all"===b)&&$ki("a").on("click",function(b){"http"===this.href.substr(0,4).toLowerCase()&&a.linkOut({url:this.href,element:this,elementEvent:b,trackDomainOnly:!0})}),b.indexOf("read")>=0||"all"===b){var c=a.analysis.paragraphPageWordCount();a.read({minTime:60*a.analysis.readTime(c)})}(b.indexOf("scrolledPage")>=0||"all"===b)&&a.scrolledPage(),(b.indexOf("leave")>=0||"all"===b)&&a.leave(),(b.indexOf("historyNavigate")>=0||"all"===b)&&a.historyNavigate(),(b.indexOf("hashChange")>=0||"all"===b)&&a.hashChange(),(b.indexOf("inactivity")>=0||"all"===b)&&a.inactivity(),b.indexOf("formAbandonment")>=0||"all"===b}}},{}],5:[function(a,b){b.exports={loadTime:(new Date).getTime(),timeSinceLoad:function(){return(new Date).getTime()-this.loadTime},emitEvent:function(a){a._occurred=new Date,a._firstVisit=new Date(parseInt(this.cookies.get("_tbp_fv"))),this.bus.emit("event",a)},triggerEvent:function(a,b,c,d){c=document,c.createEvent?(d=new Event(b),d.preventLoop=!0,a.dispatchEvent(d)):(d=c.createEventObject(),d.preventLoop=!0,a.fireEvent("on"+b,d))},addEvent:function(a,b,c){try{a.addEventListener(b,c,!1)}catch(d){a.attachEvent("on"+b,c)}}}},{}],6:[function(){},{}],7:[function(a,b){b.exports={read:function(a){a=this.extend({_method:"read",minTime:10,selector:"body",xMin:0,yMin:1,category:"page",action:"read",label:""},a);var b=(new Date).getTime(),c=!1,d=!1,e=!1,f=this;setInterval(function(){var g=(new Date).getTime();g-b>1e3*a.minTime&&(c||f.log("Tbp.read() "+a.minTime+" seconds have passed","info"),c=!0),e===!0&&c===!0&&(d===!1&&f.emitEvent(a),d=!0)},2e3);var g=$ki(a.selector).first();$ki(document).on("scroll",function(){"body"===a.selector?window.innerHeight+window.scrollY>=document.body.offsetHeight&&($ki(document).off("scroll"),f.log("Tbp.read() The user has scrolled to the bottom of the page","info"),e=!0):g.isOnScreen(a.xMin,a.yMin)&&($ki(document).off("scroll"),f.log("Tbp.read() The user has scrolled far enough down the page","info"),e=!0)})},scrolledPage:function(a){a=this.extend({_method:"scrolledPage",minTime:2,initialScrollRequired:!0,category:"page",action:"scroll"},a);var b=this,c={},d=function(d){a.label=d,void 0===c[d]&&(c[d]=!0,b.emitEvent(a))},e=0,f=!1,g=function(){f=!0};window.addEventListener("scroll",g),setTimeout(function(){var c=setInterval(function(){(f||!a.initialScrollRequired)&&(e=b.analysis.currentScrollPosition(!0),e>=.25&&d("25%"),e>=.5&&d("50%"),e>=.75&&d("75%"),e>=.98&&(d("100%"),clearInterval(c),window.removeEventListener("scroll",g)))},2e3)},1e3*a.minTime)},linkOut:function(a){if(a=this.extend({_method:"linkOut",element:!1,elementEvent:!1,trackDomainOnly:!1,category:"outbound",action:"navigate",label:""},a),void 0!==a.elementEvent&&(a.element||(a.element=a.elementEvent.target),a.element)){var b=this;if(!a.elementEvent.hasOwnProperty("preventLoop")){var c=function(){b.addEvent(a.element,"click",function(){}),b.triggerEvent(a.element,"click")},d=a.element.href,e=document.createElement("a");e.href=a.element.href,e.hostname.toLowerCase()!==window.location.host.toLowerCase()&&(a.elementEvent.preventDefault(),a.elementEvent.stopPropagation(),a.trackDomainOnly===!0&&(d=e.hostname),""!==a.label&&(d=a.label),a.label=d,a.hitCallback=a.hitCallback||function(){return a.element&&"_blank"!==a.element.target&&b.opts.debug?setTimeout(function(){c()},5e3):void c()},b.emitEvent(a))}}},hashChange:function(a){a=this.extend({_method:"hashChange",category:"page",action:"navigate",label:""},a);var b=this;window.onhashchange=function(){a.label=window.location.hash,a.label&&a.label.length>1&&b.emitEvent(a)}},historyNavigate:function(a){a=this.extend({_method:"historyNavigate",category:"history",action:"navigate",label:""},a);var b=this;!function(a){var b=a.pushState;a.pushState=function(c){return"function"==typeof a.onpushstate&&a.onpushstate({state:c}),b.apply(a,arguments)}}(window.history),window.onpopstate=history.onpushstate=function(){b.emitEvent(a)}},leave:function(a){a=this.extend({_method:"leave",category:"behavior",action:"mouseleave",label:"page",trackOnce:!0,perPage:!0,delay:1e3,minTime:3e3,proximity:{top:0,right:0,bottom:0,left:0},element:document.documentElement},a);var b=this,c=a.element.id||a.element.outerHTML,d="_tbp_"+this.hashCode("leave_"+c,!0),e=a.perPage?window.location.pathname:"/",f=null,g=this.cookies;setTimeout(function(){setTimeout(function(){a.element.addEventListener("mouseleave",function(c){a.element===document.documentElement&&c.clientY>a.proximity.top||(f=setTimeout(function(){g.get(d)?b.log("Left, but event already sent.","info"):(b.log("Sending event for leaving.","info"),b.emitEvent(a)),a.trackOnce&&g.set(d,!0,{path:e,expires:1/0})},a.delay))}),a.element.addEventListener("mouseenter",function(){f&&(clearTimeout(f),f=null)})},a.delay)},a.minTime)},formAbandonment:function(a){a=this.extend({_method:"formAbandonment",category:"behavior",action:"formAbandonment",label:"",element:null},a);!a.element},formCompletionTime:function(a){a=this.extend({_method:"formCompletionTime",category:"behavior",action:"formCompletionTime",label:"",element:null},a);!a.element},inactivity:function(a){a=this.extend({_method:"inactivity",category:"behavior",action:"inactive",label:"",periods:[60,180,300],checkInterval:2},a);var b=this,c={},d=(new Date).getTime(),e=!1,f=function(){e=!0,d=(new Date).getTime()};window.addEventListener("scroll",f),window.addEventListener("mousemove",f),window.addEventListener("keypress",f),window.addEventListener("click",f);var g=setInterval(function(){if(!e){for(var h in a.periods)if(a.periods.hasOwnProperty(h)){var i=a.periods[h].toString();c.hasOwnProperty(i)||(c[i]=!1);var j=(new Date).getTime();c[i]===!1&&j-d>=1e3*a.periods[h]&&(a.label=i,b.emitEvent(a),c[i]=!0)}var k=!0;for(var l in c)c[l]===!1&&(k=!1);k&&(b.log("Stop watching for activity, events for all periods have been sent.","info"),clearInterval(g),window.removeEventListener("scroll",f),window.removeEventListener("mousemove",f),window.removeEventListener("keypress",f),window.removeEventListener("click",f))}e=!1},1e3*a.checkInterval)}}},{}],8:[function(a,b){!function(a,b,c,d,e){function f(c,d,e){for(d=c&&c.nodeType?[c]:""+c===c?a.querySelectorAll(c):b,e=d.length;e--;b.unshift.call(this,d[e]));}e=a["add"+d],$ki=function(b){return/^f/.test(typeof b)?/in/.test(a.readyState)?setTimeout("$ki("+b+")",9):b():new f(b)},$ki[c]=f[c]={length:0,on:function(a,b){return this.each(function(c){return e?c["add"+d](a,b,!1):c.attachEvent("on"+a,b)})},off:function(a,b){return this.each(function(c){return e?c["remove"+d](a,b):c.detachEvent("on"+a,b)})},each:function(a,b){for(var c=this,d=0,e=c.length;e>d;++d)a.call(b||c[d],c[d],d,c);return c},splice:b.splice}}(document,[],"prototype","EventListener"),b.exports=$ki},{}],9:[function(a,b){b.exports={first:function(){return $ki(this[0])},last:function(){return $ki(this[this.length-1])},outerHeight:function(){return this.each(function(a){a.outerHeight=a.offsetHeight;var b=getComputedStyle(a);a.outerHeight+=parseInt(b.marginTop)+parseInt(b.marginBottom)}),this.length>1?this:this[0].outerHeight},outerWidth:function(){return this.each(function(a){a.outerWidth=a.offsetWidth;var b=getComputedStyle(a);a.outerWidth+=parseInt(b.marginLeft)+parseInt(b.marginRight)}),this.length>1?this:this[0].outerWidth},html:function(a){return a===[]._?this[0].innerHTML:this.each(function(b){b.innerHTML=a})},offset:function(){return this.each(function(a){var b=a.getBoundingClientRect();a.offset={top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}}),this.length>1?this:this[0].offset},hasClass:function(a){return this[0].classList.contains(a)},isOnScreen:function(a,b){(null===a||"undefined"==typeof a)&&(a=1),(null===b||"undefined"==typeof b)&&(b=1);var c={};c.left=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,c.top=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,c.right=c.left+window.innerWidth,c.bottom=c.top+window.innerHeight;var d=this.outerHeight(),e=this.outerWidth();if(!e||!d)return!1;var f=this.offset();f.right=f.left+e,f.bottom=f.top+d;var g=!(c.right<f.left||c.left>f.right||c.bottom<f.top||c.top>f.bottom);if(!g)return!1;var h={top:Math.min(1,(f.bottom-c.top)/d),bottom:Math.min(1,(c.bottom-f.top)/d),left:Math.min(1,(f.right-c.left)/e),right:Math.min(1,(c.right-f.left)/e)};return h.left*h.right>=a&&h.top*h.bottom>=b}}},{}],10:[function(a,b){window.$ki=a("./ki.ie8.js"),function(){Tbp=function(){function b(a){if(!(this instanceof b))return new b(a);"undefined"==typeof window.ga?(console.warn("Google Analytics not found."),this.ga=function(){}):this.ga=window.ga,this.ga(function(a){c.clientId=a.get("clientId")}),this.opts=this.extend(c,a),this.opts.autoDetect===!0?this.autoDetectEvents():"object"==typeof this.opts.autoDetect&&this.autoDetectEvents(autoDetect),this.cookies.get("_tbp_fv")||this.cookies.set("_tbp_fv",(new Date).getTime(),{expires:1/0}),this.bus=this.minibus.create();var d=this;if(this.bus.on("event",function(a){d.log("Emitted Event",a),"object"==typeof d.opts.dataLayer?d.opts.dataLayer.push(a):d.opts.dataLayer===!0&&"object"==typeof dataLayer&&dataLayer.push(a),d.opts.ga&&""!==a.label&&null!==a.label?(d.log("Sending event to Google Analytics","info"),ga("send",{hitType:"event",eventCategory:a.category,eventAction:a.action,eventLabel:a.label,hitCallback:a.hitCallback||null})):"function"==typeof a.hitCallback&&a.hitCallback(a)}),this.opts.dataLayer){var e=function(){for(var a=0,b=this.length,c=arguments.length;c>a;a++,b++)d.bus.emit("dataLayer",this[b]=arguments[a],this);return b};"object"==typeof this.opts.dataLayer?Object.defineProperty(this.opts.dataLayer,"push",{configurable:!1,enumerable:!1,writable:!1,value:e}):this.opts.dataLayer===!0&&"object"==typeof dataLayer&&Object.defineProperty(dataLayer,"push",{configurable:!1,enumerable:!1,writable:!1,value:e})}}var c={debug:!1,autoDetect:!0,ga:!0,dataLayer:!0,category:"object",action:"click",label:null,value:null,clientId:null};return b.prototype={extend:function(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])arguments[a].hasOwnProperty(b)&&(arguments[0][b]=arguments[a][b]);return arguments[0]},hashCode:function(a,b){for(var c=0,d=0,e=a.length;e>d;d++)c=31*c+a.charCodeAt(d)<<0;return b?parseInt(c):c},log:function(a,b){if(this.opts.debug&&void 0!==console){var c="";switch(b){case"warn":c="color:orange;";break;case"error":c="color:red;font-weight:bold;";break;case"info":c="color:blue;";break;case"success":c="color:green;"}""!==c?console.log("%c"+a,c):console.log(a,b)}},dir:function(a){this.opts.debug&&void 0!==console&&console.dir(a)}},b.prototype.extend($ki.prototype,a("./ki.plugins.js")),b.prototype.$=$ki,b.prototype.extend(b.prototype,a("./core.js")),b.prototype.extend(b.prototype,a("./engagement.js")),b.prototype.extend(b.prototype,a("./social.js")),b.prototype.extend(b.prototype,a("./auto_detect.js")),b.prototype.minibus=a("../node_modules/minibus/minibus.js"),b.prototype.analysis=a("./analysis.js"),b.prototype.cookies=a("../node_modules/cookies-js/src/cookies.js"),b}(),b.exports=Tbp}()},{"../node_modules/cookies-js/src/cookies.js":1,"../node_modules/minibus/minibus.js":2,"./analysis.js":3,"./auto_detect.js":4,"./core.js":5,"./engagement.js":7,"./ki.ie8.js":8,"./ki.plugins.js":9,"./social.js":11}],11:[function(a,b){b.exports={}},{}]},{},[3,4,5,6,7,8,9,10,11,1]);